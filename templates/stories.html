
{% extends "base.html" %}

{% block title %}Graduate Stories – Gradvantage{% endblock %}

{% block body_class %} class="stories-page"{% endblock %}

{% block content %}
<div class="hero-section">
  <div class="container text-center">
    <h1 class="hero-title">Graduate Stories</h1>
    <p class="hero-subtitle">Real experiences from graduates across Australia</p>
  </div>
</div>

<div class="main-content">
  <div class="container p-5">
    <a href="/" class="btn btn-link text-decoration-none mb-4">← Back to home</a>

    {% if submissions %}
      <div class="row g-4">
        {% for submission in submissions %}
          <div class="col-md-6">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title role-title">{{ submission.role }} at 
                  <a href="/company/{{ submission.company|urlencode }}" class="company-link">{{ submission.company }}</a>
                </h5>

                <div class="mb-2">
                  <strong>Type:</strong> {{ submission.experience_type or 'Not specified' }}
                </div>

                <div class="mb-2">
                  <strong>University:</strong> {{ submission.university or 'N/A' }} 
                  {% if submission.wam %}(WAM: {{ submission.wam }}){% endif %}
                </div>

                <div class="mb-2">
                  <strong>Salary:</strong> 
                  {% if submission.salary %}${{ "{:,}".format(submission.salary|int) }}{% else %}Not disclosed{% endif %}
                  {% if submission.bonus %} + {{ submission.bonus }} bonus{% endif %}
                </div>

                <div class="mb-3">
                  <strong>Outcome:</strong>
                  {% if submission.outcome == 'Success' %}
                    <span class="badge success-badge">Success</span>
                  {% elif submission.outcome == 'Rejected' %}
                    <span class="badge rejected-badge">Rejected</span>
                  {% else %}
                    <span class="badge ghosted-badge">Ghosted</span>
                  {% endif %}
                </div>

                {% if submission.interview_experience %}
                  <div class="mb-2">
                    <strong>Interview:</strong> {{ submission.interview_experience[:150] }}{% if submission.interview_experience|length > 150 %}...{% endif %}
                  </div>
                {% endif %}

                {% if submission.advice %}
                  <div class="fst-italic mb-2">"{{ submission.advice[:200] }}{% if submission.advice|length > 200 %}...{% endif %}"</div>
                {% endif %}

                <div class="text-muted small">
                  Submitted {{ submission.timestamp.split('T')[0] }}
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="empty-state">
        <h4>No stories yet</h4>
        <p class="text-muted mb-4">Be the first to share your graduate experience!</p>
        <a href="/submit" class="btn btn-primary">Share Your Story</a>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
